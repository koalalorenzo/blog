{{ define "main" }}
<article class="full" itemscope itemtype="https://schema.org/Article">
  <div class="header">
      <h1 class="title" itemprop="headline">
          {{ .Title }}
      </h1>
      {{ partial "agecheck.html" . }}
      <p>
        On <time itemprop="datePublished" datetime="{{ .Date }}">{{ .Date.Format "2006-01-02"}}</time>
        {{ if .Lastmod }}
        <meta itemprop="dateModified" content="{{ .Lastmod }}" />
        {{ end }}
        - Reading Time: {{ math.Round (div (countwords .Content) 230.0) }} Minutes
      </p>
  </div>
  <div itemprop="articleBody">{{ .Content }}</div>
</article>

{{ if ($.Param "comments") }}
<div id="comments">
  <h2>Comments</h2>
  <script src="https://giscus.app/client.js"
    data-repo="koalalorenzo/blog"
    data-repo-id="MDEwOlJlcG9zaXRvcnkzNTIxMjk4MzM="
    data-category="Blog Comments"
    data-category-id="DIC_kwDOFP0TKc4CBJDA"
    data-mapping="pathname"
    data-reactions-enabled="1"
    data-emit-metadata="1"
    data-input-position="top"
    data-theme="light"
    data-lang="en"
    crossorigin="anonymous"
    async>
  </script>
  {{ partial "agecheck.html" . }}
</div>
{{ end }}

<div class="pagination">
  <hr />
  {{ if .PrevPage }}
  <a class="link-reverse" href="{{ .PrevPage.Permalink }}">« Previous Post</a>
  {{ end }}
  {{ if and .PrevPage .NextPage  }}
  -~-
  {{ end }}
  {{ if .NextPage }}
  <a class="link-reverse" href="{{ .NextPage.Permalink }}">Next Post »</a>
  {{ end }}
</div>

{{ end }}
